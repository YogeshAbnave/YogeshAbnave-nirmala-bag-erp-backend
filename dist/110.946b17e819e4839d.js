"use strict";(self.webpackChunknector_farm=self.webpackChunknector_farm||[]).push([[110],{1110:(I,c,r)=>{r.r(c),r.d(c,{LoginModule:()=>l});var d=r(6895),s=r(2019),n=r(433),o=r(1571),p=r(6043),v=r(4604);function h(t,e){1&t&&(o.TgZ(0,"div"),o._uU(1,"Email is required!"),o.qZA())}function b(t,e){1&t&&(o.TgZ(0,"div"),o._uU(1,"Enter a valid email address!"),o.qZA())}function _(t,e){if(1&t&&(o.TgZ(0,"div",25),o.YNc(1,h,2,0,"div",24),o.YNc(2,b,2,0,"div",24),o.qZA()),2&t){const i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.form.email.errors.required),o.xp6(1),o.Q6J("ngIf",i.form.email.errors.pattern)}}function Z(t,e){1&t&&(o.TgZ(0,"div"),o._uU(1,"Password is required!"),o.qZA())}function L(t,e){if(1&t&&(o.TgZ(0,"div",26),o.YNc(1,Z,2,0,"div",24),o.qZA()),2&t){const i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.form.password.errors.required)}}function w(t,e){1&t&&(o.TgZ(0,"div",27)(1,"span",28),o._uU(2,"Loading..."),o.qZA()())}function y(t,e){1&t&&(o.ynx(0),o._uU(1,"SUBMIT"),o.BQk())}const g=function(t){return{"is-invalid":t}},T=function(){return["/forgot-password"]};class m{get form(){return this.loginForm.controls}constructor(e,i,u,S,x){this.fb=e,this._commonService=i,this._signupService=u,this.router=S,this.route=x,this.submitted=!1,this.submitFlag=!1,this.loading=!1,this.loginForm=this.fb.group({email:["",[n.kI.required,n.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")]],password:["",n.kI.required]});let f=this._commonService.getRememberMeSession().email;f&&this.loginForm.patchValue({email:f})}ngOnInit(){}onSubmit(){this.submitted=!0,this.loginForm.valid&&(this.loading=!0,this.submitFlag=!0,console.log("this.loginForm.value",this.loginForm.value),this._commonService.login(this.loginForm.value).subscribe(e=>{this._commonService.setSession({token:e.token,userId:e?.userId,name:e?.name,email:e?.email,profilePic:e?.profilePic}),this._commonService.setProfilePic(e?.profilePic),this._commonService.setUserName(e?.name),this._commonService.setUserNameLocal(e?.name),this.loading=!1,this.router.navigate(["/dashboard"]),this._commonService.successToaster("Admin logged in successfully!")},e=>{console.log(e,"error")}).add(()=>{this.submitFlag=!1,this.loading=!1}))}toggleShowPassword(){let e=document.getElementById("password"),i=document.getElementById("password_icon");"password"===e.type?(i.classList.remove("fa-eye"),i.classList.add("fa-eye-slash"),i.setAttribute("title","Hide password"),e.type="text"):(i.classList.remove("fa-eye-slash"),i.classList.add("fa-eye"),i.setAttribute("title","Show password"),e.type="password")}}m.\u0275fac=function(e){return new(e||m)(o.Y36(n.qu),o.Y36(p.v),o.Y36(v.O),o.Y36(s.F0),o.Y36(s.gz))},m.\u0275cmp=o.Xpm({type:m,selectors:[["app-login"]],decls:31,vars:14,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-6","d-flex","align-items-center","justify-content-center","logo-bg"],[1,"logo","text-center"],["href",""],["src","../../../assets/img/logo.png","alt",""],[1,"col-md-6"],[1,"login_right_side"],[1,"login_form"],[1,"text-white","text-center","pb-5"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control","form-control1",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password"],[1,"position-relative","d-flex","align-items-center"],["type","password","id","password","formControlName","password",1,"form-control","form-control1","password_input",3,"maxlength","ngClass"],["class","invalid-feedback d-block",4,"ngIf"],[1,"form-group","d-flex","align-items-center"],["routerLinkActive","active",1,"secondry-color",3,"routerLink"],[1,"form-group","custom-input"],["type","submit",1,"btn-style-one","btn","btn_default","text-center","onhover"],["class","spinner-border text-light align-top","role","status",4,"ngIf"],[4,"ngIf"],[1,"invalid-feedback"],[1,"invalid-feedback","d-block"],["role","status",1,"spinner-border","text-light","align-top"],[1,"sr-only"]],template:function(e,i){1&e&&(o.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"a",4),o._UZ(6,"img",5),o.qZA()()(),o.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"h2",9),o._uU(11,"Login"),o.qZA(),o.TgZ(12,"form",10),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(13,"div",11)(14,"label",12),o._uU(15,"User Name"),o.qZA(),o._UZ(16,"input",13),o.YNc(17,_,3,2,"div",14),o.qZA(),o.TgZ(18,"div",11)(19,"label",15),o._uU(20,"Password"),o.qZA(),o.TgZ(21,"div",16),o._UZ(22,"input",17),o.qZA(),o.YNc(23,L,2,1,"div",18),o.qZA(),o.TgZ(24,"div",19)(25,"a",20),o._uU(26,"Forgot password ?"),o.qZA()(),o.TgZ(27,"div",21)(28,"button",22),o.YNc(29,w,3,0,"div",23),o.YNc(30,y,2,0,"ng-container",24),o.qZA()()()()()()()()()),2&e&&(o.xp6(12),o.Q6J("formGroup",i.loginForm),o.xp6(4),o.Q6J("ngClass",o.VKq(9,g,(i.submitted||i.form.email.touched)&&i.form.email.errors)),o.xp6(1),o.Q6J("ngIf",(i.submitted||i.form.email.touched)&&i.form.email.errors),o.xp6(5),o.Q6J("maxlength",32)("ngClass",o.VKq(11,g,(i.submitted||i.form.password.touched)&&i.form.password.errors)),o.xp6(1),o.Q6J("ngIf",(i.submitted||i.form.password.touched)&&i.form.password.errors),o.xp6(2),o.Q6J("routerLink",o.DdM(13,T)),o.xp6(4),o.Q6J("ngIf",i.loading),o.xp6(1),o.Q6J("ngIf",!i.loading))},dependencies:[d.mk,d.O5,s.rH,s.Od,n._Y,n.Fj,n.JJ,n.JL,n.nD,n.sg,n.u],styles:[".logo-bg[_ngcontent-%COMP%]{background:url(login-bg.e327fcbe89ff996e.png);background-repeat:no-repeat}a[_ngcontent-%COMP%]:hover{color:#eb963d!important}"]});const C=[{path:"",component:m,data:{title:"Login - Nector Farm"}}];class a{}a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[s.Bz.forChild(C),s.Bz]});var A=r(4772);class l{}l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=o.oAB({type:l}),l.\u0275inj=o.cJS({imports:[d.ez,a,A.m]})}}]);