(self.webpackChunknector_farm=self.webpackChunknector_farm||[]).push([[636],{7636:(Me,K,b)=>{"use strict";b.r(K),b.d(K,{UserListingModule:()=>Se});var G=b(6895),re=b(2019),T=b(433),x=b(992),he=b(6697),e=b(1571),_=b(6043),P=b(529),l=b(2340),N=b(1627);class L{constructor(i,t,s){this.httpClient=i,this._httpService=t,this._commonService=s,this.BASE_URL=l.N.API_URL}getUserToken(){return window.localStorage.getItem("userToken")}getAllUsers(i){const t=`${this.BASE_URL}/api/user/getAll`,s=new P.WM({"Content-Type":"application/json",Authorization:`Bearer ${this._commonService.getSession().token}`});return this.httpClient.post(t,i,{headers:s})}deactivate(i){const t=new P.WM({"Content-Type":"application/json",Authorization:`Bearer ${this._commonService.getSession().token}`});return this.httpClient.get(`${this.BASE_URL}/api/user/deactivate/${i}`,{headers:t})}activate(i){const t=new P.WM({"Content-Type":"application/json",Authorization:`Bearer ${this._commonService.getSession().token}`});return this.httpClient.get(`${this.BASE_URL}/api/user/activate/${i}`,{headers:t})}deleteSingleUser(i){const t=new P.WM({"Content-Type":"application/json",Authorization:`Bearer ${this._commonService.getSession().token}`});return this.httpClient.post(this.BASE_URL+"/api/user/deletedUser",i,{headers:t})}editShippingManagers(i){return this._httpService.GET("/users/"+i+"?filter[include]=role&access_token="+this._commonService.getSession().token)}editShippingManagersUpdate(i,t){return this._httpService.PATCH("/users/"+t+"?access_token="+this._commonService.getSession().token,i)}addShippingManager(i){return this._httpService.POST("/users/add-user?access_token="+this._commonService.getSession().token,i)}resendCredential(i){return this._httpService.POST("/users/resend-credentials?access_token="+this._commonService.getSession().token,i)}submitCsvData(i){return this._httpService.POST("/users/import-users?access_token="+this._commonService.getSession().token,i)}}L.\u0275fac=function(i){return new(i||L)(e.LFG(P.eN),e.LFG(N.O),e.LFG(_.v))},L.\u0275prov=e.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"});var le=b(3028),ue=b.t(le,2);let V=(()=>{class r{constructor(){this._papa=ue}parse(t,s){return this._papa.parse(t,s)}unparse(t,s){return this._papa.unparse(t,s)}setLocalChunkSize(t){this._papa.LocalChunkSize=t}setRemoteChunkSize(t){this._papa.RemoteChunkSize=t}setDefaultDelimiter(t){this._papa.DefaultDelimiter=t}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var ae=b(7876);function Ze(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("keyup.enter",function(){e.CHM(t),e.oxw(3);const c=e.MAs(1);return e.KtG(c.previous())})("click",function(){e.CHM(t),e.oxw(3);const c=e.MAs(1);return e.KtG(c.previous())}),e._uU(1),e.TgZ(2,"span",13),e._uU(3),e.qZA()()}if(2&r){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.previousLabel," "),e.xp6(2),e.Oqu(t.screenReaderPageLabel)}}function ye(r,i){if(1&r&&(e.TgZ(0,"span",14),e._uU(1),e.TgZ(2,"span",13),e._uU(3),e.qZA()()),2&r){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.previousLabel," "),e.xp6(2),e.Oqu(t.screenReaderPageLabel)}}function Ie(r,i){if(1&r&&(e.TgZ(0,"li",9),e.YNc(1,Ze,4,2,"a",10),e.YNc(2,ye,4,2,"span",11),e.qZA()),2&r){e.oxw(2);const t=e.MAs(1);e.ekj("disabled",t.isFirstPage()),e.xp6(1),e.Q6J("ngIf",1<t.getCurrent()),e.xp6(1),e.Q6J("ngIf",t.isFirstPage())}}function qe(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("keyup.enter",function(){e.CHM(t);const c=e.oxw().$implicit;e.oxw(2);const v=e.MAs(1);return e.KtG(v.setCurrent(c.value))})("click",function(){e.CHM(t);const c=e.oxw().$implicit;e.oxw(2);const v=e.MAs(1);return e.KtG(v.setCurrent(c.value))}),e.TgZ(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"number"),e.qZA()()}if(2&r){const t=e.oxw().$implicit,s=e.oxw(2);e.xp6(2),e.hij("",s.screenReaderPageLabel," "),e.xp6(2),e.Oqu("..."===t.label?t.label:e.xi3(5,2,t.label,""))}}function we(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"span",16)(2,"span",13),e._uU(3),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"number"),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit,s=e.oxw(2);e.xp6(3),e.hij("",s.screenReaderCurrentLabel," "),e.xp6(2),e.Oqu("..."===t.label?t.label:e.xi3(6,2,t.label,""))}}function Oe(r,i){if(1&r&&(e.TgZ(0,"li"),e.YNc(1,qe,6,5,"a",10),e.YNc(2,we,7,5,"ng-container",15),e.qZA()),2&r){const t=i.$implicit;e.oxw(2);const s=e.MAs(1);e.ekj("current",s.getCurrent()===t.value)("ellipsis","..."===t.label),e.xp6(1),e.Q6J("ngIf",s.getCurrent()!==t.value),e.xp6(1),e.Q6J("ngIf",s.getCurrent()===t.value)}}function Ue(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("keyup.enter",function(){e.CHM(t),e.oxw(3);const c=e.MAs(1);return e.KtG(c.next())})("click",function(){e.CHM(t),e.oxw(3);const c=e.MAs(1);return e.KtG(c.next())}),e._uU(1),e.TgZ(2,"span",13),e._uU(3),e.qZA()()}if(2&r){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.nextLabel," "),e.xp6(2),e.Oqu(t.screenReaderPageLabel)}}function fe(r,i){if(1&r&&(e.TgZ(0,"span",14),e._uU(1),e.TgZ(2,"span",13),e._uU(3),e.qZA()()),2&r){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.nextLabel," "),e.xp6(2),e.Oqu(t.screenReaderPageLabel)}}function S(r,i){if(1&r&&(e.TgZ(0,"li",17),e.YNc(1,Ue,4,2,"a",10),e.YNc(2,fe,4,2,"span",11),e.qZA()),2&r){e.oxw(2);const t=e.MAs(1);e.ekj("disabled",t.isLastPage()),e.xp6(1),e.Q6J("ngIf",!t.isLastPage()),e.xp6(1),e.Q6J("ngIf",t.isLastPage())}}function a(r,i){if(1&r&&(e.TgZ(0,"ul",4),e.YNc(1,Ie,3,4,"li",5),e.TgZ(2,"li",6),e._uU(3),e.qZA(),e.YNc(4,Oe,3,6,"li",7),e.YNc(5,S,3,4,"li",8),e.qZA()),2&r){const t=e.oxw(),s=e.MAs(1);e.ekj("responsive",t.responsive),e.xp6(1),e.Q6J("ngIf",t.directionLinks),e.xp6(2),e.AsE(" ",s.getCurrent()," / ",s.getLastPage()," "),e.xp6(1),e.Q6J("ngForOf",s.pages)("ngForTrackBy",t.trackByIndex),e.xp6(1),e.Q6J("ngIf",t.directionLinks)}}class n{constructor(){this.change=new e.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(i){return null==i.id&&(i.id=this.DEFAULT_ID),this.instances[i.id]?this.updateInstance(i):(this.instances[i.id]=i,!0)}updateInstance(i){let t=!1;for(let s in this.instances[i.id])i[s]!==this.instances[i.id][s]&&(this.instances[i.id][s]=i[s],t=!0);return t}getCurrentPage(i){return this.instances[i]?this.instances[i].currentPage:1}setCurrentPage(i,t){if(this.instances[i]){let s=this.instances[i];t<=Math.ceil(s.totalItems/s.itemsPerPage)&&1<=t&&(this.instances[i].currentPage=t,this.change.emit(i))}}setTotalItems(i,t){this.instances[i]&&0<=t&&(this.instances[i].totalItems=t,this.change.emit(i))}setItemsPerPage(i,t){this.instances[i]&&(this.instances[i].itemsPerPage=t,this.change.emit(i))}getInstance(i=this.DEFAULT_ID){return this.instances[i]?this.clone(this.instances[i]):{}}clone(i){var t={};for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s]);return t}}const o=Number.MAX_SAFE_INTEGER;let u=(()=>{class r{constructor(t){this.service=t,this.state={}}transform(t,s){if(!(t instanceof Array)){let ke=s.id||this.service.defaultId();return this.state[ke]?this.state[ke].slice:t}let ie,me,c=s.totalItems&&s.totalItems!==t.length,v=this.createInstance(t,s),U=v.id,Ce=v.itemsPerPage,Fe=this.service.register(v);if(!c&&t instanceof Array){if(Ce=+Ce||o,ie=(v.currentPage-1)*Ce,me=ie+Ce,this.stateIsIdentical(U,t,ie,me))return this.state[U].slice;{let Ne=t.slice(ie,me);return this.saveState(U,t,Ne,ie,me),this.service.change.emit(U),Ne}}return Fe&&this.service.change.emit(U),this.saveState(U,t,t,ie,me),t}createInstance(t,s){return this.checkConfig(s),{id:null!=s.id?s.id:this.service.defaultId(),itemsPerPage:+s.itemsPerPage||0,currentPage:+s.currentPage||1,totalItems:+s.totalItems||t.length}}checkConfig(t){const c=["itemsPerPage","currentPage"].filter(v=>!(v in t));if(0<c.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${c.join(", ")}`)}saveState(t,s,c,v,U){this.state[t]={collection:s,size:s.length,slice:c,start:v,end:U}}stateIsIdentical(t,s,c,v){let U=this.state[t];return!(!U||U.size!==s.length||U.start!==c||U.end!==v)&&U.slice.every((me,Ce)=>me===s[c+Ce])}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(n,16))},r.\u0275pipe=e.Yjl({name:"paginate",type:r,pure:!1}),r})(),C=(()=>{class r{constructor(t,s){this.service=t,this.changeDetectorRef=s,this.maxSize=7,this.pageChange=new e.vpe,this.pageBoundsCorrection=new e.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(c=>{this.id===c&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(t){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(t){this.pageChange.emit(t)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let t=this.service.getInstance(this.id);const s=this.outOfBoundCorrection(t);s!==t.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(s),this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}outOfBoundCorrection(t){const s=Math.ceil(t.totalItems/t.itemsPerPage);return s<t.currentPage&&0<s?s:t.currentPage<1?1:t.currentPage}createPageArray(t,s,c,v){v=+v;let U=[];const ie=Math.max(Math.ceil(c/s),1),me=Math.ceil(v/2),Ce=t<=me,Fe=ie-me<t,ke=!Ce&&!Fe;let Ne=v<ie,Le=1;for(;Le<=ie&&Le<=v;){let Re,Je=this.calculatePageNumber(Le,t,v,ie);Re=Ne&&(2===Le&&(ke||Fe)||Le===v-1&&(ke||Ce))?"...":Je,U.push({label:Re,value:Je}),Le++}return U}calculatePageNumber(t,s,c,v){let U=Math.ceil(c/2);return t===c?v:1===t?t:c<v?v-U<s?v-c+t:U<s?s-U+t:t:t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(n),e.Y36(e.sBO))},r.\u0275dir=e.lG2({type:r,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[e.TTD]}),r})();function R(r){return!!r&&"false"!==r}let w=(()=>{class r{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new e.vpe,this.pageBoundsCorrection=new e.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(t){this._directionLinks=R(t)}get autoHide(){return this._autoHide}set autoHide(t){this._autoHide=R(t)}get responsive(){return this._responsive}set responsive(t){this._responsive=R(t)}trackByIndex(t){return t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(t,s){if(1&t&&(e.TgZ(0,"pagination-template",0,1),e.NdJ("pageChange",function(v){return s.pageChange.emit(v)})("pageBoundsCorrection",function(v){return s.pageBoundsCorrection.emit(v)}),e.TgZ(2,"nav",2),e.YNc(3,a,6,8,"ul",3),e.qZA()()),2&t){const c=e.MAs(1);e.Q6J("id",s.id)("maxSize",s.maxSize),e.xp6(2),e.uIk("aria-label",s.screenReaderPaginationLabel),e.xp6(1),e.Q6J("ngIf",!(s.autoHide&&c.pages.length<=1))}},dependencies:[C,G.O5,G.sg,G.JJ],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),r})(),p=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[n],imports:[[G.ez]]}),r})();const D=["closeModal"],f=["closeEditModal"];function se(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"a",74),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,v=e.oxw(2);return e.KtG(v.deactivate(null==c?null:c._id))}),e._UZ(1,"img",75),e.qZA()}}function Y(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"a",76),e.NdJ("click",function(){e.CHM(t);const c=e.oxw().$implicit,v=e.oxw(2);return e.KtG(v.activate(null==c?null:c._id))}),e._UZ(1,"img",77),e.qZA()}}function d(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",65),e._uU(2),e.qZA(),e.TgZ(3,"td",65),e._uU(4),e.qZA(),e.TgZ(5,"td",66),e._uU(6),e.qZA(),e.TgZ(7,"td",67)(8,"a",68),e.NdJ("click",function(){const v=e.CHM(t).$implicit,U=e.oxw(2);return e.KtG(U.resendCredentials(null==v?null:v._id))}),e._uU(9,"Resend Cre."),e.qZA()(),e.TgZ(10,"td")(11,"ul",69)(12,"li",67)(13,"a",70),e.NdJ("click",function(){const v=e.CHM(t).$implicit,U=e.oxw(2);return e.KtG(U.deleteUser(null==v?null:v._id))}),e._UZ(14,"img",71),e.qZA()(),e.TgZ(15,"li",67),e.YNc(16,se,2,0,"a",72),e.qZA(),e.TgZ(17,"li",67),e.YNc(18,Y,2,0,"a",73),e.qZA()()()()}if(2&r){const t=i.$implicit;e.xp6(1),e.Q6J("title",(null==t?null:t.firstName)+" "+(null==t?null:t.lastName)),e.xp6(1),e.AsE("",null==t?null:t.firstName," ",null==t?null:t.lastName,""),e.xp6(1),e.Q6J("title",null==t?null:t.email),e.xp6(1),e.Oqu(null==t?null:t.email),e.xp6(2),e.Oqu(null!=t&&null!=t.phone&&t.phone.internationalNumber?null==t||null==t.phone?null:t.phone.internationalNumber:"N/A"),e.xp6(10),e.Q6J("ngIf",null==t?null:t.active),e.xp6(2),e.Q6J("ngIf",!(null!=t&&t.active))}}const E=function(r,i){return{currentPage:r,itemsPerPage:10,totalItems:i}};function H(r,i){if(1&r&&(e.TgZ(0,"table",61)(1,"thead")(2,"tr",62)(3,"th"),e._uU(4,"Full Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Email Address"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Phone Number"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\xa0"),e.qZA(),e.TgZ(11,"th",63),e._uU(12,"Action"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,d,19,8,"tr",64),e.ALo(15,"paginate"),e.qZA()()),2&r){const t=e.oxw();e.xp6(14),e.Q6J("ngForOf",e.xi3(15,1,t.allShippingManagers,e.WLB(4,E,t.currentPage,t.length)))}}function O(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"div",78),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("innerHtml",t.noDataAvailable,e.oJD)}}function z(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"div",79),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("innerHtml",t.loader,e.oJD)}}function B(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"pagination-controls",80),e.NdJ("pageChange",function(c){e.CHM(t);const v=e.oxw();return e.KtG(v.onPageChange(c))}),e.qZA()()}}function Q(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Full name is required!"),e.qZA())}function h(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Blank space is not allowed!"),e.qZA())}function y(r,i){if(1&r&&(e.TgZ(0,"div",81),e.YNc(1,Q,2,0,"div",28),e.YNc(2,h,2,0,"div",28),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.form.fullName.errors?null:t.form.fullName.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.form.fullName.errors?null:t.form.fullName.errors.pattern)}}function M(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Email is required!"),e.qZA())}function J(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Enter a valid email address!"),e.qZA())}function k(r,i){if(1&r&&(e.TgZ(0,"div",81),e.YNc(1,M,2,0,"div",28),e.YNc(2,J,2,0,"div",28),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.form.email.errors?null:t.form.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.form.email.errors?null:t.form.email.errors.pattern)}}function j(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Mobile number is required!"),e.qZA())}function F(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Mobile number is invalid!"),e.qZA())}function I(r,i){if(1&r&&(e.TgZ(0,"div",81),e.YNc(1,j,2,0,"div",28),e.YNc(2,F,2,0,"div",28),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.form.phone.errors?null:t.form.phone.errors.required),e.xp6(1),e.Q6J("ngIf",!(null!=t.form.phone.errors&&t.form.phone.errors.required)&&t.form.phone.errors)}}function oe(r,i){1&r&&(e.TgZ(0,"div",82)(1,"span",83),e._uU(2,"Loading..."),e.qZA()())}function X(r,i){1&r&&(e.ynx(0),e._uU(1,"ADD"),e.BQk())}function ce(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Full name is required!"),e.qZA())}function de(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Blank space is not allowed!"),e.qZA())}function ee(r,i){if(1&r&&(e.TgZ(0,"div",81),e.YNc(1,ce,2,0,"div",28),e.YNc(2,de,2,0,"div",28),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formData.firstName.errors?null:t.formData.firstName.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formData.firstName.errors?null:t.formData.firstName.errors.pattern)}}function Z(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Email is required!"),e.qZA())}function q(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Enter a valid email address!"),e.qZA())}function ve(r,i){if(1&r&&(e.TgZ(0,"div",81),e.YNc(1,Z,2,0,"div",28),e.YNc(2,q,2,0,"div",28),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formData.email.errors?null:t.formData.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formData.email.errors?null:t.formData.email.errors.pattern)}}function A(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Mobile number is required!"),e.qZA())}function xe(r,i){1&r&&(e.TgZ(0,"div"),e._uU(1,"Mobile number is invalid! "),e.qZA())}function pe(r,i){if(1&r&&(e.TgZ(0,"div",81),e.YNc(1,A,2,0,"div",28),e.YNc(2,xe,2,0,"div",28),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formData.phone.errors?null:t.formData.phone.errors.required),e.xp6(1),e.Q6J("ngIf",!(null!=t.formData.phone.errors&&t.formData.phone.errors.required)&&t.formData.phone.errors)}}function be(r,i){1&r&&(e.TgZ(0,"div",82)(1,"span",83),e._uU(2,"Loading..."),e.qZA()())}function _e(r,i){1&r&&(e.ynx(0),e._uU(1,"UPDATE"),e.BQk())}const W=function(r){return{"is-invalid":r}},ge=function(r,i){return[r,i]};function te(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",32)(2,"h5",33),e._uU(3,"Edit Shipping Manager "),e.qZA(),e._UZ(4,"img",84,85),e.qZA(),e.TgZ(6,"form",36),e.NdJ("ngSubmit",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.onEditSubmit())}),e.TgZ(7,"div",37)(8,"div",38)(9,"div",13)(10,"label",86),e._uU(11,"Full Name "),e.TgZ(12,"span",40),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"div",41),e._UZ(15,"input",87),e.YNc(16,ee,3,2,"div",43),e.qZA()(),e.TgZ(17,"div",13)(18,"label",86),e._uU(19,"Email Address "),e.TgZ(20,"span",40),e._uU(21,"*"),e.qZA()(),e.TgZ(22,"div",41),e._UZ(23,"input",44),e.YNc(24,ve,3,2,"div",43),e.qZA()(),e.TgZ(25,"div",13)(26,"label",86),e._uU(27,"Phone Number "),e.TgZ(28,"span",40),e._uU(29,"*"),e.qZA()(),e.TgZ(30,"div",45),e._UZ(31,"ngx-intl-tel-input",46),e.YNc(32,pe,3,2,"div",43),e.qZA()()(),e.TgZ(33,"div",47)(34,"div",48)(35,"button",49),e.YNc(36,be,3,0,"div",50),e.YNc(37,_e,2,0,"ng-container",28),e.qZA(),e.TgZ(38,"button",60),e._uU(39,"CANCEL"),e.qZA()()()()()()}if(2&r){const t=e.oxw();e.xp6(6),e.Q6J("formGroup",t.editShippingManagerForm),e.xp6(9),e.Q6J("ngClass",e.VKq(21,W,(t.submitted||t.formData.firstName.touched)&&t.formData.firstName.errors)),e.xp6(1),e.Q6J("ngIf",(t.submitted||t.formData.firstName.touched)&&t.formData.firstName.errors),e.xp6(7),e.Q6J("ngClass",e.VKq(23,W,(t.submitted||t.formData.email.touched)&&t.formData.email.errors)),e.xp6(1),e.Q6J("ngIf",(t.submitted||t.formData.email.touched)&&t.formData.email.errors),e.xp6(7),e.Q6J("cssClass","custom")("preferredCountries",t.preferredCountries)("enableAutoCountrySelect",!0)("enablePlaceholder",!0)("searchCountryFlag",!0)("searchCountryField",e.WLB(25,ge,t.SearchCountryField.Iso2,t.SearchCountryField.Name))("selectFirstCountry",!1)("selectedCountryISO",t.CountryISO.India)("maxLength",15)("phoneValidation",!0)("separateDialCode",t.separateDialCode)("numberFormat",t.PhoneNumberFormat.International)("ngClass",e.VKq(28,W,(t.submitted||t.formData.phone.touched)&&t.formData.phone.errors)),e.xp6(1),e.Q6J("ngIf",(t.submitted||t.formData.phone.touched)&&t.formData.phone.errors),e.xp6(4),e.Q6J("ngIf",t.isSubmit),e.xp6(1),e.Q6J("ngIf",!t.isSubmit)}}function Te(r,i){1&r&&(e.TgZ(0,"div",82)(1,"span",83),e._uU(2,"Loading..."),e.qZA()())}function ne(r,i){1&r&&(e.ynx(0),e._uU(1,"IMPORT"),e.BQk())}const De=function(r){return{close:r}},Pe=function(){return["/dashboard"]},Be=function(){return["/user-management"]};class Ee{get form(){return this.addUserForm.controls}get formData(){return this.editShippingManagerForm.controls}constructor(i,t,s,c){this.fb=i,this._commonService=t,this._userListingServiceService=s,this.papa=c,this.currentPage=0,this.itemsPerPage=0,this.total=10,this.count=0,this.toggle=!1,this.search_text="",this.totalData=0,this.pageIndex=0,this.pageSize=10,this.loader=this._commonService.loader,this.noDataAvailable=this._commonService.noDataAvailable,this.loading=!0,this.submitted=!1,this.isSubmit=!1,this.disabledButton=!0,this.separateDialCode=!0,this.SearchCountryField=x.wX,this.CountryISO=x.HT,this.PhoneNumberFormat=x.M9,this.preferredCountries=[x.HT.UnitedStates,x.HT.UnitedKingdom],this.addUserForm=this.fb.group({fullName:["",[T.kI.required,T.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]],email:["",[T.kI.required,T.kI.email,T.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],phone:[{},T.kI.required]}),this.editShippingManagerForm=this.fb.group({firstName:["",[T.kI.required,T.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]],email:["",[T.kI.required,T.kI.email,T.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],phone:[{},T.kI.required]}),this.timeout=null,this.csvShippingManagerDetails=[{name:"",customerAdminName:"",email:"",shippingManagers:"",status:"",phone:"",address:""}]}ngOnInit(){this.getAllShippingManagers()}change(){this.toggle=!this.toggle}onPageChange(i){this.currentPage=i,this.pageIndex=i,this.getAllShippingManagers()}search(){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.currentPage=this.pageIndex=0,this.getAllShippingManagers()},0)}getAllShippingManagers(){let i={page:this.pageIndex,limit:this.pageSize,search_query:this.search_text,platform:"admin",userId:this._commonService.getUserId()};this.loading=!0,this._userListingServiceService.getAllUsers(i).subscribe(t=>{t?(this.allShippingManagers=t.data,this.length=t.metadata[0]?.total,this.count=t.metadata[0]?.count):(this.allShippingManagers=[],this.length=0,this.count=0,this.pageIndex=0)}).add(()=>this.loading=!1)}deactivate(i){confirm("Are you sure, you want to deactivate this user?")&&this._userListingServiceService.deactivate(i).subscribe(s=>{this._commonService.successToaster("Company dectivated successfully!"),this.getAllShippingManagers()},s=>{this.getAllShippingManagers()})}activate(i){confirm("Are you sure, you want to activate this user?")&&this._userListingServiceService.activate(i).subscribe(s=>{this._commonService.successToaster("Company activated successfully!"),this.getAllShippingManagers()},s=>{this.getAllShippingManagers()})}deleteUser(i){confirm("Are you sure, you want to delete this user?")&&this._userListingServiceService.deleteSingleUser({userId:i}).subscribe(c=>{c&&(this._commonService.successToaster("You have deleted user successfully"),this.getAllShippingManagers())},c=>{this.getAllShippingManagers()})}editShippingManager(i){this.loading=!0,this._userListingServiceService.editShippingManagers(i).subscribe(t=>{this.shippingManagerId=t.id,t&&(this.editShippingManagerForm.patchValue({firstName:t.firstName,email:t.email,phone:t.phone}),this.loading=!1)},t=>{this.getAllShippingManagers(),this.loading=!1})}onSubmit(){if(this.submitted=!0,this.addUserForm.valid){let i=this.addUserForm.getRawValue();i.userId=this._commonService.getUserId(),this.isSubmit=!0,this._userListingServiceService.addShippingManager(i).subscribe(t=>{this.getAllShippingManagers(),this._commonService.successToaster("User added successfully!"),this.closeModal.nativeElement.click(),this.submitted=!1,this.isSubmit=!1,this.addUserForm.reset()},t=>{this.isSubmit=!1})}}onCancel(){this.submitted=!1,this.addUserForm.reset()}onEditSubmit(){if(this.submitted=!0,this.editShippingManagerForm.valid){let i=this.editShippingManagerForm.getRawValue();i.userId=this._commonService.getUserId(),this.isSubmit=!0,this._userListingServiceService.editShippingManagersUpdate(i,this.shippingManagerId).subscribe(t=>{this.getAllShippingManagers(),this._commonService.successToaster("User updated successfully!"),this.submitted=!1,this.isSubmit=!1,this.closeEditModal.nativeElement.click(),this.editShippingManagerForm.reset()},t=>{this.isSubmit=!1})}}resendCredentials(i){if(confirm("Are you sure, you want to send credentials to this user?")){let s={senderId:this._commonService.getUserId(),userId:i};this._userListingServiceService.resendCredential(s).subscribe(c=>{this._commonService.successToaster(c),this.getAllShippingManagers()},c=>{this.getAllShippingManagers()})}}isValidCSVFile(i){return i.name.endsWith(".csv")}handleFileSelect(i){this.disabledButton=!0;var t=i.target.files,s=t[0];if(this.isValidCSVFile(t[0])){var c=new FileReader;c.readAsText(s),c.onload=v=>{this.papa.parse(v.target.result,{skipEmptyLines:!0,header:!0,complete:ie=>{this.importedData=ie.data}})}}else this._commonService.errorToaster("Error, Only csv file accepted!")}submitImportedData(){this.loading=!0;let i={importerId:this._commonService.getUserId(),userData:this.importedData};this._userListingServiceService.submitCsvData(i).subscribe(t=>{t&&(this.disabledButton=!1,$("#staticBackdrop13").modal("hide"),$("#inputImportFile").val(""))}).add(()=>this.loading=!1)}exportCSV(){this.csvShippingManagerDetails=[{name:"",customerAdminName:"",email:"",role:"",status:"",phone:"",address:""}];let i=JSON.parse(JSON.stringify(this.allShippingManagers));this.pushCSVData(i),new he.ExportToCsv({fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,useTextFile:!1,useBom:!0,headers:["Comapany Name","Customer Admin Name","Email","Role","Status","Phone","Address"]}).generateCsv(this.csvShippingManagerDetails)}pushCSVData(i){i.forEach(t=>{t.name=t.company[0].name?t.company[0].name:"N/A",t.customerAdminName=t?.firstName+" "+t?.lastName?t?.firstName+" "+t?.lastName:"N/A",t.email=t?.email?t?.email:"N/A",t.role=t.role.name?t.role.name:"N/A",t.status=t?.active?"Activate":"Deactivate",t.phone=t?.phone?.internationalNumber?t?.phone?.internationalNumber:"N/A",t.address=t?.address?t?.address:"N/A",this.csvShippingManagerDetails.push(t)})}}Ee.\u0275fac=function(i){return new(i||Ee)(e.Y36(T.qu),e.Y36(_.v),e.Y36(L),e.Y36(V))},Ee.\u0275cmp=e.Xpm({type:Ee,selectors:[["app-user-listing"]],viewQuery:function(i,t){if(1&i&&(e.Gf(D,5),e.Gf(f,5)),2&i){let s;e.iGM(s=e.CRH())&&(t.closeModal=s.first),e.iGM(s=e.CRH())&&(t.closeEditModal=s.first)}},decls:112,vars:45,consts:[[1,"sidebar",3,"ngClass"],[1,"admin-name-toggle"],[1,"home-content",3,"click"],[1,"bx","bx-menu"],[1,"admin-name-side-menu"],[1,"nav-links"],["routerLinkActive","active",3,"routerLink"],["src","../../../assets/img/dashboard.svg"],[1,"link_name"],["src","../../../assets/img/shipping-managers.svg"],[1,"home-section"],[1,"container-fluid","prl-0"],[1,"row"],[1,"col-lg-12"],[1,"main-content"],[1,"container-fluid"],[1,"row","mt-2"],[1,"col-lg-6"],[1,"page-heading"],[1,"row","mt-4"],[1,"table-custom"],[1,"row","px-3","py-3"],[1,"col-md-8"],[1,"form-group","has-search"],[1,"form-control-feedback"],[1,"fa","fa-search",2,"font-size","18px"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange","keyup"],["id","datatable","class","table table-striped table-responsive",4,"ngIf"],[4,"ngIf"],["id","addmanager","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","custom-model-header"],["id","staticBackdropLabel",1,"modal-title"],["src","../../../../assets/img/New folder/close.svg","alt","","data-bs-dismiss","modal","aria-label","Close",1,"",3,"click"],["closeModal",""],[3,"formGroup","ngSubmit"],[1,"modal-body","pt-4","pb-5"],[1,"row","mt-3"],[1,"mt-2","mb-2","text-bold"],[1,"text-danger"],[1,"input-group"],["type","text","placeholder","Enter Full Name","formControlName","fullName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Enter your email","formControlName","email",1,"form-control",3,"ngClass"],[1,"form-group"],["name","phone","formControlName","phone",1,"form-control","ngx_phone_number",3,"cssClass","preferredCountries","enableAutoCountrySelect","enablePlaceholder","searchCountryFlag","searchCountryField","selectFirstCountry","selectedCountryISO","maxLength","phoneValidation","separateDialCode","numberFormat","ngClass"],[1,"row","mt-5"],[1,"col-lg-12","text-center"],["type","submit",1,"btn","btn-primary","Generate-btn"],["class","spinner-border text-light align-top","role","status",4,"ngIf"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","cancel-report",3,"click"],["id","editShippingManager","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],["class","modal-content",4,"ngIf"],["id","staticBackdrop13","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],["src","../../../assets/img/close.svg","alt","","data-bs-dismiss","modal","aria-label","Close",1,""],["for","inputImportFile",1,"mt-2","mb-3"],[1,"input-group","custom-file-button"],["type","file","id","inputImportFile","accept",".csv",1,"form-control",3,"change"],["type","button",1,"btn","btn-primary","Generate-btn",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","cancel-report"],["id","datatable",1,"table","table-striped","table-responsive"],[1,"table_head"],[2,"text-align","center"],[4,"ngFor","ngForOf"],[1,"short_text_with_width",3,"title"],[1,"short_text_with_width"],[2,"cursor","pointer"],["title","Resend Credential",1,"link-color",3,"click"],[1,"action-item"],["title","Delete",3,"click"],["src","../../../assets/img/delete.svg","alt",""],["title","Deactivate",3,"click",4,"ngIf"],["title","Activate",3,"click",4,"ngIf"],["title","Deactivate",3,"click"],["src","../../../assets/img/unblock.svg"],["title","Activate",3,"click"],["src","../../../assets/img/block.svg"],[3,"innerHtml"],[1,"p-5",3,"innerHtml"],[2,"text-align-last","end",3,"pageChange"],[1,"invalid-feedback"],["role","status",1,"spinner-border","text-light","align-top"],[1,"sr-only"],["src","../../../../assets/img/New folder/close.svg","alt","","data-bs-dismiss","modal","aria-label","Close",1,""],["closeEditModal",""],[1,"mt-2","mb-2"],["type","text","placeholder","Enter Full Name","formControlName","firstName",1,"form-control",3,"ngClass"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.NdJ("click",function(){return t.change()}),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"div",4)(5,"span")(6,"b"),e._uU(7,"Nector Farm"),e.qZA()()()(),e.TgZ(8,"ul",5)(9,"li")(10,"a",6)(11,"i"),e._UZ(12,"img",7),e.qZA(),e.TgZ(13,"span",8),e._uU(14,"Dashboard"),e.qZA()()(),e.TgZ(15,"li")(16,"a",6)(17,"i"),e._UZ(18,"img",9),e.qZA(),e.TgZ(19,"span",8),e._uU(20,"User Management"),e.qZA()()()()(),e.TgZ(21,"section",10)(22,"div",11)(23,"div",12)(24,"div",13),e._UZ(25,"app-header"),e.qZA()()(),e.TgZ(26,"div",14)(27,"div",15)(28,"div",16)(29,"div",17)(30,"div",18)(31,"h3"),e._uU(32,"All Users"),e.qZA()()()(),e.TgZ(33,"div",19)(34,"div",13)(35,"div",20)(36,"div",21)(37,"div",22)(38,"div",23)(39,"span",24),e._UZ(40,"i",25),e.qZA(),e.TgZ(41,"input",26),e.NdJ("ngModelChange",function(c){return t.search_text=c})("keyup",function(){return t.search()}),e.qZA()()()(),e.YNc(42,H,16,7,"table",27),e.YNc(43,O,2,1,"ng-container",28),e.YNc(44,z,2,1,"ng-container",28),e.YNc(45,B,2,0,"div",28),e.qZA()()()()()(),e.TgZ(46,"div",29)(47,"div",30)(48,"div",31)(49,"div",32)(50,"h5",33),e._uU(51,"Add New Manager "),e.qZA(),e.TgZ(52,"img",34,35),e.NdJ("click",function(){return t.onCancel()}),e.qZA()(),e.TgZ(54,"form",36),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(55,"div",37)(56,"div",38)(57,"div",13)(58,"label",39),e._uU(59,"Full Name "),e.TgZ(60,"span",40),e._uU(61,"*"),e.qZA()(),e.TgZ(62,"div",41),e._UZ(63,"input",42),e.YNc(64,y,3,2,"div",43),e.qZA()(),e.TgZ(65,"div",13)(66,"label",39),e._uU(67,"Email Address "),e.TgZ(68,"span",40),e._uU(69,"*"),e.qZA()(),e.TgZ(70,"div",41),e._UZ(71,"input",44),e.YNc(72,k,3,2,"div",43),e.qZA()(),e.TgZ(73,"div",13)(74,"label",39),e._uU(75,"Phone Number "),e.TgZ(76,"span",40),e._uU(77,"*"),e.qZA()(),e.TgZ(78,"div",45),e._UZ(79,"ngx-intl-tel-input",46),e.YNc(80,I,3,2,"div",43),e.qZA()()(),e.TgZ(81,"div",47)(82,"div",48)(83,"button",49),e.YNc(84,oe,3,0,"div",50),e.YNc(85,X,2,0,"ng-container",28),e.qZA(),e.TgZ(86,"button",51),e.NdJ("click",function(){return t.onCancel()}),e._uU(87,"CANCEL"),e.qZA()()()()()()()(),e.TgZ(88,"div",52)(89,"div",30),e.YNc(90,te,40,30,"div",53),e.qZA()(),e.TgZ(91,"div",54)(92,"div",30)(93,"div",31)(94,"div",32)(95,"h5",33),e._uU(96,"Import Data "),e.qZA(),e._UZ(97,"img",55),e.qZA(),e.TgZ(98,"div",37)(99,"div",38)(100,"div",13)(101,"label",56),e._uU(102,"Upload files"),e.qZA(),e.TgZ(103,"div",57)(104,"input",58),e.NdJ("change",function(c){return t.handleFileSelect(c)}),e.qZA()()()(),e.TgZ(105,"div",47)(106,"div",48)(107,"button",59),e.NdJ("click",function(){return t.submitImportedData()}),e.YNc(108,Te,3,0,"div",50),e.YNc(109,ne,2,0,"ng-container",28),e.qZA(),e.TgZ(110,"button",60),e._uU(111,"DISCARD"),e.qZA()()()()()()()),2&i&&(e.Q6J("ngClass",e.VKq(32,De,t.toggle)),e.xp6(10),e.Q6J("routerLink",e.DdM(34,Pe)),e.xp6(6),e.Q6J("routerLink",e.DdM(35,Be)),e.xp6(25),e.Q6J("ngModel",t.search_text),e.xp6(1),e.Q6J("ngIf",!t.loading),e.xp6(1),e.Q6J("ngIf",!t.loading&&0===t.allShippingManagers.length),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",!t.loading),e.xp6(9),e.Q6J("formGroup",t.addUserForm),e.xp6(9),e.Q6J("ngClass",e.VKq(36,W,(t.submitted||t.form.fullName.touched)&&t.form.fullName.errors)),e.xp6(1),e.Q6J("ngIf",(t.submitted||t.form.fullName.touched)&&t.form.fullName.errors),e.xp6(7),e.Q6J("ngClass",e.VKq(38,W,(t.submitted||t.form.email.touched)&&t.form.email.errors)),e.xp6(1),e.Q6J("ngIf",(t.submitted||t.form.email.touched)&&t.form.email.errors),e.xp6(7),e.Q6J("cssClass","custom")("preferredCountries",t.preferredCountries)("enableAutoCountrySelect",!0)("enablePlaceholder",!0)("searchCountryFlag",!0)("searchCountryField",e.WLB(40,ge,t.SearchCountryField.Iso2,t.SearchCountryField.Name))("selectFirstCountry",!1)("selectedCountryISO",t.CountryISO.India)("maxLength",15)("phoneValidation",!0)("separateDialCode",t.separateDialCode)("numberFormat",t.PhoneNumberFormat.International)("ngClass",e.VKq(43,W,(t.submitted||t.form.phone.touched)&&t.form.phone.errors)),e.xp6(1),e.Q6J("ngIf",(t.submitted||t.form.phone.touched)&&t.form.phone.errors),e.xp6(4),e.Q6J("ngIf",t.isSubmit),e.xp6(1),e.Q6J("ngIf",!t.isSubmit),e.xp6(5),e.Q6J("ngIf",!t.loading),e.xp6(18),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",!t.loading))},dependencies:[T._Y,T.Fj,T.JJ,T.JL,T.On,T.sg,T.u,ae.G,G.mk,G.sg,G.O5,x.FV,x.mh,w,re.rH,re.Od,u],styles:[".iti[_ngcontent-%COMP%]{display:block!important;margin-bottom:20px}.iti[_ngcontent-%COMP%]   .dropdown-menu.country-dropdown[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0;border-color:#c7cace;margin-top:-1px}.iti[_ngcontent-%COMP%]   .iti__country-list[_ngcontent-%COMP%]{box-shadow:none;font-size:14px;margin-left:0;width:244px;max-height:170px}.iti__flag-container.open[_ngcontent-%COMP%] + input[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.iti[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;border-color:#c7cace;border-radius:0;padding:5px 10px}.iti[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}@media screen and (max-width: 479px){.iti[_ngcontent-%COMP%]   .iti__country-list[_ngcontent-%COMP%]{width:88.3vw}}ngx-intl-tel-input.ng-invalid.ng-touched[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #c0392b}ngx-intl-tel-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;border-color:#3498db;box-shadow:0 0 #000}ngx-intl-tel-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bac2c7}ngx-intl-tel-input[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%]{background-color:#e5eaf1}.ngx_date_picker[_ngcontent-%COMP%]{margin-top:.5rem}.ngx_date_picker[_ngcontent-%COMP%]   .calendar_icon[_ngcontent-%COMP%]{font-size:20px;margin-top:.5rem;padding-right:.5rem}.ngx_date_picker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0!important;border-bottom:1px solid #c8ced3!important}.ngx_date_picker[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:none!important}body[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif}.input_logo[_ngcontent-%COMP%]{position:absolute;height:90px;width:150px;top:-10px;right:170px;cursor:pointer;background:transparent;opacity:0}.input_preview[_ngcontent-%COMP%]{height:90px;width:150px}.profile_logo[_ngcontent-%COMP%]{width:100px;border-radius:100%;height:100px;max-width:100px}.upload-text-msg[_ngcontent-%COMP%]{position:relative;display:block;padding-bottom:7px}.phone_edit_icon[_ngcontent-%COMP%]{cursor:pointer}.phone_edit_icon[_ngcontent-%COMP%], .verified_icon[_ngcontent-%COMP%]{height:20px}.phone_verify[_ngcontent-%COMP%]{text-decoration:underline;margin-left:.25rem;align-self:center;color:#dc3545;cursor:pointer}.profile_name[_ngcontent-%COMP%]{line-break:anywhere}p[_ngcontent-%COMP%]{font-family:Lato}.ngx_phone_number.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.ngx_phone_number[_ngcontent-%COMP%]     input.custom{border:0px solid #fff!important;outline-style:none!important}.my-pagination[_ngcontent-%COMP%]    {background:red}.rotate-icon[_ngcontent-%COMP%]{transform:rotate(181deg)}select.form-select.form-select-lg.short-dropdown-custom[_ngcontent-%COMP%]{text-align:left!important}.sort_dropdown[_ngcontent-%COMP%]{height:35px;margin-top:3px;font-weight:700}.short_text[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.link-color[_ngcontent-%COMP%]{color:#ee975d;text-decoration:none}.text-bold[_ngcontent-%COMP%]{font-weight:800}"]});const Qe=[{path:"",component:Ee,data:{title:"All Users"}}];class Ae{}Ae.\u0275fac=function(i){return new(i||Ae)},Ae.\u0275mod=e.oAB({type:Ae}),Ae.\u0275inj=e.cJS({imports:[re.Bz.forChild(Qe),re.Bz]});var ze=b(4772);class Se{}Se.\u0275fac=function(i){return new(i||Se)},Se.\u0275mod=e.oAB({type:Se}),Se.\u0275inj=e.cJS({imports:[ze.m,G.ez,x.J7,p,Ae]})},1024:(Me,K)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});var b=function(){function e(){}return e.EOL="\r\n",e.BOM="\ufeff",e.DEFAULT_FIELD_SEPARATOR=",",e.DEFAULT_DECIMAL_SEPARATOR=".",e.DEFAULT_QUOTE='"',e.DEFAULT_SHOW_TITLE=!1,e.DEFAULT_TITLE="My Generated Report",e.DEFAULT_FILENAME="generated",e.DEFAULT_SHOW_LABELS=!1,e.DEFAULT_USE_TEXT_FILE=!1,e.DEFAULT_USE_BOM=!0,e.DEFAULT_HEADER=[],e.DEFAULT_KEYS_AS_HEADERS=!1,e}();K.CsvConfigConsts=b,K.ConfigDefaults={filename:b.DEFAULT_FILENAME,fieldSeparator:b.DEFAULT_FIELD_SEPARATOR,quoteStrings:b.DEFAULT_QUOTE,decimalSeparator:b.DEFAULT_DECIMAL_SEPARATOR,showLabels:b.DEFAULT_SHOW_LABELS,showTitle:b.DEFAULT_SHOW_TITLE,title:b.DEFAULT_TITLE,useTextFile:b.DEFAULT_USE_TEXT_FILE,useBom:b.DEFAULT_USE_BOM,headers:b.DEFAULT_HEADER,useKeysAsHeaders:b.DEFAULT_KEYS_AS_HEADERS};var G=function(){function e(_){this._csv="",this._options=he({},K.ConfigDefaults,_||{}),this._options.useKeysAsHeaders&&this._options.headers&&this._options.headers.length>0&&console.warn("Option to use object keys as headers was set, but headers were still passed!")}return Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(_){this._options=he({},K.ConfigDefaults,_)},enumerable:!0,configurable:!0}),e.prototype.generateCsv=function(_,P){if(void 0===P&&(P=!1),this._csv="",this._parseData(_),this._options.useBom&&(this._csv+=b.BOM),this._options.showTitle&&(this._csv+=this._options.title+"\r\n\n"),this._getHeaders(),this._getBody(),""!=this._csv){if(P)return this._csv;var N=this._options.useTextFile?".txt":".csv",L=new Blob([this._csv],{type:"text/"+(this._options.useTextFile?"plain":"csv")+";charset=utf8;"});if(navigator.msSaveBlob){var le=this._options.filename.replace(/ /g,"_")+N;navigator.msSaveBlob(L,le)}else{encodeURI(this._csv);var ae=document.createElement("a");ae.href=URL.createObjectURL(L),ae.setAttribute("visibility","hidden"),ae.download=this._options.filename.replace(/ /g,"_")+N,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae)}}else console.log("Invalid data")},e.prototype._getHeaders=function(){if(this._options.showLabels||this._options.useKeysAsHeaders){var P=this._options.useKeysAsHeaders?Object.keys(this._data[0]):this._options.headers;if(P.length>0){for(var l="",N=0;N<P.length;N++)l+=P[N]+this._options.fieldSeparator;l=l.slice(0,-1),this._csv+=l+b.EOL}}},e.prototype._getBody=function(){for(var _=Object.keys(this._data[0]),P=0;P<this._data.length;P++){for(var l="",N=0;N<_.length;N++)l+=this._formatData(this._data[P][_[N]])+this._options.fieldSeparator;l=l.slice(0,-1),this._csv+=l+b.EOL}},e.prototype._formatData=function(_){return"locale"===this._options.decimalSeparator&&this._isFloat(_)?_.toLocaleString():"."!==this._options.decimalSeparator&&this._isFloat(_)?_.toString().replace(".",this._options.decimalSeparator):"string"==typeof _?(_=_.replace(/"/g,'""'),(this._options.quoteStrings||_.indexOf(",")>-1||_.indexOf("\n")>-1||_.indexOf("\r")>-1)&&(_=this._options.quoteStrings+_+this._options.quoteStrings),_):"boolean"==typeof _?_?"TRUE":"FALSE":_},e.prototype._isFloat=function(_){return+_===_&&(!isFinite(_)||Boolean(_%1))},e.prototype._parseData=function(_){return this._data="object"!=typeof _?JSON.parse(_):_,this._data},e}();K.ExportToCsv=G;var re=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;function x(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function he(e){for(var _=[],P=1;P<arguments.length;P++)_[P-1]=arguments[P];for(var l,L,N=x(e),le=1;le<arguments.length;le++){for(var ue in l=Object(arguments[le]))re.call(l,ue)&&(N[ue]=l[ue]);if(Object.getOwnPropertySymbols){L=Object.getOwnPropertySymbols(l);for(var V=0;V<L.length;V++)T.call(l,L[V])&&(N[L[V]]=l[L[V]])}}return N}},6697:(Me,K,b)=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0}),function G(re){for(var T in re)K.hasOwnProperty(T)||(K[T]=re[T])}(b(1024))},3028:function(Me,K){var b,re;b=function T(){"use strict";var x=typeof self<"u"?self:typeof window<"u"?window:void 0!==x?x:{},he=!x.document&&!!x.postMessage,e=x.IS_PAPA_WORKER||!1,_={},P=0,l={parse:function(a,n){var o=(n=n||{}).dynamicTyping||!1;if(S(o)&&(n.dynamicTypingFunction=o,o={}),n.dynamicTyping=o,n.transform=!!S(n.transform)&&n.transform,n.worker&&l.WORKERS_SUPPORTED){var u=function(){if(!l.WORKERS_SUPPORTED)return!1;var R,w,m=(R=x.URL||x.webkitURL||null,w=T.toString(),l.BLOB_URL||(l.BLOB_URL=R.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",w,")();"],{type:"text/javascript"})))),C=new x.Worker(m);return C.onmessage=qe,C.id=P++,_[C.id]=C}();return u.userStep=n.step,u.userChunk=n.chunk,u.userComplete=n.complete,u.userError=n.error,n.step=S(n.step),n.chunk=S(n.chunk),n.complete=S(n.complete),n.error=S(n.error),delete n.worker,void u.postMessage({input:a,config:n,workerId:u.id})}var m,g=null;return"string"==typeof a?(a=65279===(m=a).charCodeAt(0)?m.slice(1):m,g=n.download?new le(n):new V(n)):!0===a.readable&&S(a.read)&&S(a.on)?g=new ae(n):(x.File&&a instanceof File||a instanceof Object)&&(g=new ue(n)),g.stream(a)},unparse:function(a,n){var o=!1,u=!0,g=",",m="\r\n",C='"',R=C+C,w=!1,p=null,D=!1;!function(){if("object"==typeof n){if("string"!=typeof n.delimiter||l.BAD_DELIMITERS.filter(function(d){return-1!==n.delimiter.indexOf(d)}).length||(g=n.delimiter),("boolean"==typeof n.quotes||"function"==typeof n.quotes||Array.isArray(n.quotes))&&(o=n.quotes),"boolean"!=typeof n.skipEmptyLines&&"string"!=typeof n.skipEmptyLines||(w=n.skipEmptyLines),"string"==typeof n.newline&&(m=n.newline),"string"==typeof n.quoteChar&&(C=n.quoteChar),"boolean"==typeof n.header&&(u=n.header),Array.isArray(n.columns)){if(0===n.columns.length)throw new Error("Option columns is empty");p=n.columns}void 0!==n.escapeChar&&(R=n.escapeChar+C),("boolean"==typeof n.escapeFormulae||n.escapeFormulae instanceof RegExp)&&(D=n.escapeFormulae instanceof RegExp?n.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var f=new RegExp(ye(C),"g");if("string"==typeof a&&(a=JSON.parse(a)),Array.isArray(a)){if(!a.length||Array.isArray(a[0]))return se(null,a,w);if("object"==typeof a[0])return se(p||Object.keys(a[0]),a,w)}else if("object"==typeof a)return"string"==typeof a.data&&(a.data=JSON.parse(a.data)),Array.isArray(a.data)&&(a.fields||(a.fields=a.meta&&a.meta.fields||p),a.fields||(a.fields=Array.isArray(a.data[0])?a.fields:"object"==typeof a.data[0]?Object.keys(a.data[0]):[]),Array.isArray(a.data[0])||"object"==typeof a.data[0]||(a.data=[a.data])),se(a.fields||[],a.data||[],w);throw new Error("Unable to serialize unrecognized input");function se(d,E,H){var O="";"string"==typeof d&&(d=JSON.parse(d)),"string"==typeof E&&(E=JSON.parse(E));var z=Array.isArray(d)&&0<d.length,B=!Array.isArray(E[0]);if(z&&u){for(var Q=0;Q<d.length;Q++)0<Q&&(O+=g),O+=Y(d[Q],Q);0<E.length&&(O+=m)}for(var h=0;h<E.length;h++){var y=z?d.length:E[h].length,M=!1,J=z?0===Object.keys(E[h]).length:0===E[h].length;if(H&&!z&&(M="greedy"===H?""===E[h].join("").trim():1===E[h].length&&0===E[h][0].length),"greedy"===H&&z){for(var k=[],j=0;j<y;j++)k.push(E[h][B?d[j]:j]);M=""===k.join("").trim()}if(!M){for(var I=0;I<y;I++)0<I&&!J&&(O+=g),O+=Y(E[h][z&&B?d[I]:I],I);h<E.length-1&&(!H||0<y&&!J)&&(O+=m)}}return O}function Y(d,E){if(null==d)return"";if(d.constructor===Date)return JSON.stringify(d).slice(1,25);var H=!1;D&&"string"==typeof d&&D.test(d)&&(d="'"+d,H=!0);var O=d.toString().replace(f,R);return(H=H||!0===o||"function"==typeof o&&o(d,E)||Array.isArray(o)&&o[E]||function(z,B){for(var Q=0;Q<B.length;Q++)if(-1<z.indexOf(B[Q]))return!0;return!1}(O,l.BAD_DELIMITERS)||-1<O.indexOf(g)||" "===O.charAt(0)||" "===O.charAt(O.length-1))?C+O+C:O}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\ufeff",l.BAD_DELIMITERS=["\r","\n",'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!he&&!!x.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=Ie,l.ParserHandle=Ze,l.NetworkStreamer=le,l.FileStreamer=ue,l.StringStreamer=V,l.ReadableStreamStreamer=ae,x.jQuery){var N=x.jQuery;N.fn.parse=function(a){var n=a.config||{},o=[];return this.each(function(m){if("INPUT"!==N(this).prop("tagName").toUpperCase()||"file"!==N(this).attr("type").toLowerCase()||!x.FileReader||!this.files||0===this.files.length)return!0;for(var C=0;C<this.files.length;C++)o.push({file:this.files[C],inputElem:this,instanceConfig:N.extend({},n)})}),u(),this;function u(){if(0!==o.length){var C,R,w,p=o[0];if(S(a.before)){var D=a.before(p.file,p.inputElem);if("object"==typeof D){if("abort"===D.action)return"AbortError",C=p.file,R=p.inputElem,w=D.reason,void(S(a.error)&&a.error({name:"AbortError"},C,R,w));if("skip"===D.action)return void g();"object"==typeof D.config&&(p.instanceConfig=N.extend(p.instanceConfig,D.config))}else if("skip"===D)return void g()}var f=p.instanceConfig.complete;p.instanceConfig.complete=function(se){S(f)&&f(se,p.file,p.inputElem),g()},l.parse(p.file,p.instanceConfig)}else S(a.complete)&&a.complete()}function g(){o.splice(0,1),u()}}}function L(a){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(n){var o=Ue(n);o.chunkSize=parseInt(o.chunkSize),n.step||n.chunk||(o.chunkSize=null),this._handle=new Ze(o),(this._handle.streamer=this)._config=o}.call(this,a),this.parseChunk=function(n,o){if(this.isFirstChunk&&S(this._config.beforeFirstChunk)){var u=this._config.beforeFirstChunk(n);void 0!==u&&(n=u)}this.isFirstChunk=!1,this._halted=!1;var g=this._partialLine+n;this._partialLine="";var m=this._handle.parse(g,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var C=m.meta.cursor;this._finished||(this._partialLine=g.substring(C-this._baseIndex),this._baseIndex=C),m&&m.data&&(this._rowCount+=m.data.length);var R=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(e)x.postMessage({results:m,workerId:l.WORKER_ID,finished:R});else if(S(this._config.chunk)&&!o){if(this._config.chunk(m,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);m=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(m.data),this._completeResults.errors=this._completeResults.errors.concat(m.errors),this._completeResults.meta=m.meta),this._completed||!R||!S(this._config.complete)||m&&m.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),R||m&&m.meta.paused||this._nextChunk(),m}this._halted=!0},this._sendError=function(n){S(this._config.error)?this._config.error(n):e&&this._config.error&&x.postMessage({workerId:l.WORKER_ID,error:n,finished:!1})}}function le(a){var n;(a=a||{}).chunkSize||(a.chunkSize=l.RemoteChunkSize),L.call(this,a),this._nextChunk=he?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(o){this._input=o,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(n=new XMLHttpRequest,this._config.withCredentials&&(n.withCredentials=this._config.withCredentials),he||(n.onload=fe(this._chunkLoaded,this),n.onerror=fe(this._chunkError,this)),n.open(this._config.downloadRequestBody?"POST":"GET",this._input,!he),this._config.downloadRequestHeaders){var o=this._config.downloadRequestHeaders;for(var u in o)n.setRequestHeader(u,o[u])}this._config.chunkSize&&n.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{n.send(this._config.downloadRequestBody)}catch(m){this._chunkError(m.message)}he&&0===n.status&&this._chunkError()}},this._chunkLoaded=function(){var u;4===n.readyState&&(n.status<200||400<=n.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:n.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(u=n.getResponseHeader("Content-Range"))?-1:parseInt(u.substring(u.lastIndexOf("/")+1))),this.parseChunk(n.responseText)))},this._chunkError=function(o){this._sendError(new Error(n.statusText||o))}}function ue(a){var n,o;(a=a||{}).chunkSize||(a.chunkSize=l.LocalChunkSize),L.call(this,a);var u=typeof FileReader<"u";this.stream=function(g){this._input=g,o=g.slice||g.webkitSlice||g.mozSlice,u?((n=new FileReader).onload=fe(this._chunkLoaded,this),n.onerror=fe(this._chunkError,this)):n=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var g=this._input;if(this._config.chunkSize){var m=Math.min(this._start+this._config.chunkSize,this._input.size);g=o.call(g,this._start,m)}var C=n.readAsText(g,this._config.encoding);u||this._chunkLoaded({target:{result:C}})},this._chunkLoaded=function(g){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(g.target.result)},this._chunkError=function(){this._sendError(n.error)}}function V(a){var n;L.call(this,a=a||{}),this.stream=function(o){return n=o,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var o,u=this._config.chunkSize;return u?(o=n.substring(0,u),n=n.substring(u)):(o=n,n=""),this._finished=!n,this.parseChunk(o)}}}function ae(a){L.call(this,a=a||{});var n=[],o=!0,u=!1;this.pause=function(){L.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){L.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(g){this._input=g,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){u&&1===n.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),n.length?this.parseChunk(n.shift()):o=!0},this._streamData=fe(function(g){try{n.push("string"==typeof g?g:g.toString(this._config.encoding)),o&&(o=!1,this._checkIsFinished(),this.parseChunk(n.shift()))}catch(m){this._streamError(m)}},this),this._streamError=fe(function(g){this._streamCleanUp(),this._sendError(g)},this),this._streamEnd=fe(function(){this._streamCleanUp(),u=!0,this._streamData("")},this),this._streamCleanUp=fe(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Ze(a){var n,o,u,g=Math.pow(2,53),m=-g,C=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,R=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,w=this,p=0,D=0,f=!1,se=!1,Y=[],d={data:[],errors:[],meta:{}};if(S(a.step)){var E=a.step;a.step=function(h){if(d=h,z())O();else{if(O(),0===d.data.length)return;p+=h.data.length,a.preview&&p>a.preview?o.abort():(d.data=d.data[0],E(d,w))}}}function H(h){return"greedy"===a.skipEmptyLines?""===h.join("").trim():1===h.length&&0===h[0].length}function O(){return d&&u&&(Q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),u=!1),a.skipEmptyLines&&(d.data=d.data.filter(function(h){return!H(h)})),z()&&function(){if(d)if(Array.isArray(d.data[0])){for(var y=0;z()&&y<d.data.length;y++)d.data[y].forEach(h);d.data.splice(0,1)}else d.data.forEach(h);function h(M,J){S(a.transformHeader)&&(M=a.transformHeader(M,J)),Y.push(M)}}(),function(){if(!d||!a.header&&!a.dynamicTyping&&!a.transform)return d;function h(M,J){var k,j=a.header?{}:[];for(k=0;k<M.length;k++){var F=k,I=M[k];a.header&&(F=k>=Y.length?"__parsed_extra":Y[k]),a.transform&&(I=a.transform(I,F)),I=B(F,I),"__parsed_extra"===F?(j[F]=j[F]||[],j[F].push(I)):j[F]=I}return a.header&&(k>Y.length?Q("FieldMismatch","TooManyFields","Too many fields: expected "+Y.length+" fields but parsed "+k,D+J):k<Y.length&&Q("FieldMismatch","TooFewFields","Too few fields: expected "+Y.length+" fields but parsed "+k,D+J)),j}var y=1;return!d.data.length||Array.isArray(d.data[0])?(d.data=d.data.map(h),y=d.data.length):d.data=h(d.data,0),a.header&&d.meta&&(d.meta.fields=Y),D+=y,d}()}function z(){return a.header&&0===Y.length}function B(h,y){return M=h,a.dynamicTypingFunction&&void 0===a.dynamicTyping[M]&&(a.dynamicTyping[M]=a.dynamicTypingFunction(M)),!0===(a.dynamicTyping[M]||a.dynamicTyping)?"true"===y||"TRUE"===y||"false"!==y&&"FALSE"!==y&&(function(J){if(C.test(J)){var k=parseFloat(J);if(m<k&&k<g)return!0}return!1}(y)?parseFloat(y):R.test(y)?new Date(y):""===y?null:y):y;var M}function Q(h,y,M,J){var k={type:h,code:y,message:M};void 0!==J&&(k.row=J),d.errors.push(k)}this.parse=function(h,y,M){if(a.newline||(a.newline=function(F,I){F=F.substring(0,1048576);var oe=new RegExp(ye(I)+"([^]*?)"+ye(I),"gm"),X=(F=F.replace(oe,"")).split("\r"),ce=F.split("\n");if(1===X.length||1<ce.length&&ce[0].length<X[0].length)return"\n";for(var ee=0,Z=0;Z<X.length;Z++)"\n"===X[Z][0]&&ee++;return ee>=X.length/2?"\r\n":"\r"}(h,a.quoteChar||'"')),u=!1,a.delimiter)S(a.delimiter)&&(a.delimiter=a.delimiter(h),d.meta.delimiter=a.delimiter);else{var k=function(F,I,oe,X,ce){var de,ee,Z,q;ce=ce||[",","\t","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var ve=0;ve<ce.length;ve++){var A=ce[ve],xe=0,pe=0,be=0;Z=void 0;for(var _e=new Ie({comments:X,delimiter:A,newline:I,preview:10}).parse(F),W=0;W<_e.data.length;W++)if(oe&&H(_e.data[W]))be++;else{var ge=_e.data[W].length;pe+=ge,void 0!==Z?0<ge&&(xe+=Math.abs(ge-Z),Z=ge):Z=ge}0<_e.data.length&&(pe/=_e.data.length-be),(void 0===ee||xe<=ee)&&(void 0===q||q<pe)&&1.99<pe&&(ee=xe,de=A,q=pe)}return{successful:!!(a.delimiter=de),bestDelimiter:de}}(h,a.newline,a.skipEmptyLines,a.comments,a.delimitersToGuess);k.successful?a.delimiter=k.bestDelimiter:(u=!0,a.delimiter=l.DefaultDelimiter),d.meta.delimiter=a.delimiter}var j=Ue(a);return a.preview&&a.header&&j.preview++,n=h,o=new Ie(j),d=o.parse(n,y,M),O(),f?{meta:{paused:!0}}:d||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,o.abort(),n=S(a.chunk)?"":n.substring(o.getCharIndex())},this.resume=function(){w.streamer._halted?(f=!1,w.streamer.parseChunk(n,!0)):setTimeout(w.resume,3)},this.aborted=function(){return se},this.abort=function(){se=!0,o.abort(),d.meta.aborted=!0,S(a.complete)&&a.complete(d),n=""}}function ye(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ie(a){var n,o=(a=a||{}).delimiter,u=a.newline,g=a.comments,m=a.step,C=a.preview,R=a.fastMode,w=n=null==a.quoteChar?'"':a.quoteChar;if(void 0!==a.escapeChar&&(w=a.escapeChar),("string"!=typeof o||-1<l.BAD_DELIMITERS.indexOf(o))&&(o=","),g===o)throw new Error("Comment character same as delimiter");!0===g?g="#":("string"!=typeof g||-1<l.BAD_DELIMITERS.indexOf(g))&&(g=!1),"\n"!==u&&"\r"!==u&&"\r\n"!==u&&(u="\n");var p=0,D=!1;this.parse=function(f,se,Y){if("string"!=typeof f)throw new Error("Input must be a string");var d=f.length,E=o.length,H=u.length,O=g.length,z=S(m),B=[],Q=[],h=[],y=p=0;if(!f)return te();if(a.header&&!se){var M=f.split(u)[0].split(o),J=[],k={},j=!1;for(var F in M){var I=M[F];S(a.transformHeader)&&(I=a.transformHeader(I,F));var oe=I,X=k[I]||0;for(0<X&&(j=!0,oe=I+"_"+X),k[I]=X+1;J.includes(oe);)oe=oe+"_"+X;J.push(oe)}if(j){var ce=f.split(u);ce[0]=J.join(o),f=ce.join(u)}}if(R||!1!==R&&-1===f.indexOf(n)){for(var de=f.split(u),ee=0;ee<de.length;ee++){if(p+=(h=de[ee]).length,ee!==de.length-1)p+=u.length;else if(Y)return te();if(!g||h.substring(0,O)!==g){if(z){if(B=[],be(h.split(o)),Te(),D)return te()}else be(h.split(o));if(C&&C<=ee)return B=B.slice(0,C),te(!0)}}return te()}for(var Z=f.indexOf(o,p),q=f.indexOf(u,p),ve=new RegExp(ye(w)+ye(n),"g"),A=f.indexOf(n,p);;)if(f[p]!==n)if(g&&0===h.length&&f.substring(p,p+O)===g){if(-1===q)return te();q=f.indexOf(u,p=q+H),Z=f.indexOf(o,p)}else if(-1!==Z&&(Z<q||-1===q))h.push(f.substring(p,Z)),Z=f.indexOf(o,p=Z+E);else{if(-1===q)break;if(h.push(f.substring(p,q)),ge(q+H),z&&(Te(),D))return te();if(C&&B.length>=C)return te(!0)}else for(A=p,p++;;){if(-1===(A=f.indexOf(n,A+1)))return Y||Q.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:B.length,index:p}),W();if(A===d-1)return W(f.substring(p,A).replace(ve,n));if(n!==w||f[A+1]!==w){if(n===w||0===A||f[A-1]!==w){-1!==Z&&Z<A+1&&(Z=f.indexOf(o,A+1)),-1!==q&&q<A+1&&(q=f.indexOf(u,A+1));var xe=_e(-1===q?Z:Math.min(Z,q));if(f.substr(A+1+xe,E)===o){h.push(f.substring(p,A).replace(ve,n)),f[p=A+1+xe+E]!==n&&(A=f.indexOf(n,p)),Z=f.indexOf(o,p),q=f.indexOf(u,p);break}var pe=_e(q);if(f.substring(A+1+pe,A+1+pe+H)===u){if(h.push(f.substring(p,A).replace(ve,n)),ge(A+1+pe+H),Z=f.indexOf(o,p),A=f.indexOf(n,p),z&&(Te(),D))return te();if(C&&B.length>=C)return te(!0);break}Q.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:B.length,index:p}),A++}}else A++}return W();function be(ne){B.push(ne),y=p}function _e(ne){var De=0;if(-1!==ne){var Pe=f.substring(A+1,ne);Pe&&""===Pe.trim()&&(De=Pe.length)}return De}function W(ne){return Y||(void 0===ne&&(ne=f.substring(p)),h.push(ne),p=d,be(h),z&&Te()),te()}function ge(ne){p=ne,be(h),h=[],q=f.indexOf(u,p)}function te(ne){return{data:B,errors:Q,meta:{delimiter:o,linebreak:u,aborted:D,truncated:!!ne,cursor:y+(se||0)}}}function Te(){m(te()),B=[],Q=[]}},this.abort=function(){D=!0},this.getCharIndex=function(){return p}}function qe(a){var n=a.data,o=_[n.workerId],u=!1;if(n.error)o.userError(n.error,n.file);else if(n.results&&n.results.data){var g={abort:function(){u=!0,we(n.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Oe,resume:Oe};if(S(o.userStep)){for(var m=0;m<n.results.data.length&&(o.userStep({data:n.results.data[m],errors:n.results.errors,meta:n.results.meta},g),!u);m++);delete n.results}else S(o.userChunk)&&(o.userChunk(n.results,g,n.file),delete n.results)}n.finished&&!u&&we(n.workerId,n.results)}function we(a,n){var o=_[a];S(o.userComplete)&&o.userComplete(n),o.terminate(),delete _[a]}function Oe(){throw new Error("Not implemented.")}function Ue(a){if("object"!=typeof a||null===a)return a;var n=Array.isArray(a)?[]:{};for(var o in a)n[o]=Ue(a[o]);return n}function fe(a,n){return function(){a.apply(n,arguments)}}function S(a){return"function"==typeof a}return e&&(x.onmessage=function(a){var n=a.data;if(void 0===l.WORKER_ID&&n&&(l.WORKER_ID=n.workerId),"string"==typeof n.input)x.postMessage({workerId:l.WORKER_ID,results:l.parse(n.input,n.config),finished:!0});else if(x.File&&n.input instanceof File||n.input instanceof Object){var o=l.parse(n.input,n.config);o&&x.postMessage({workerId:l.WORKER_ID,results:o,finished:!0})}}),(le.prototype=Object.create(L.prototype)).constructor=le,(ue.prototype=Object.create(L.prototype)).constructor=ue,(V.prototype=Object.create(V.prototype)).constructor=V,(ae.prototype=Object.create(L.prototype)).constructor=ae,l},void 0!==(re=b.apply(K,[]))&&(Me.exports=re)}}]);