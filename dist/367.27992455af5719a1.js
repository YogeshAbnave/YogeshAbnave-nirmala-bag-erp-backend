"use strict";(self.webpackChunknector_farm=self.webpackChunknector_farm||[]).push([[367],{6988:(A,l,n)=>{n.r(l),n.d(l,{ResetPasswordModule:()=>d});var c=n(6895),i=n(2019),t=n(433),s=n(1571),w=n(6043);function p(e,r){1&e&&(s.TgZ(0,"div"),s._uU(1,"New password is required!"),s.qZA())}function g(e,r){1&e&&(s.TgZ(0,"div"),s._uU(1,"Password should contain atleast 1 number, 1 lowercase, 1 uppercase, 1 special character and must of 8 digits. "),s.qZA())}function v(e,r){if(1&e&&(s.TgZ(0,"div",24),s.YNc(1,p,2,0,"div",21),s.YNc(2,g,2,0,"div",21),s.qZA()),2&e){const o=s.oxw();s.xp6(1),s.Q6J("ngIf",null==o.form.newPassword.errors?null:o.form.newPassword.errors.required),s.xp6(1),s.Q6J("ngIf",null==o.form.newPassword.errors?null:o.form.newPassword.errors.pattern)}}function h(e,r){1&e&&(s.TgZ(0,"div"),s._uU(1,"Confirm password is required!"),s.qZA())}function P(e,r){1&e&&(s.TgZ(0,"div"),s._uU(1,"Password should contain atleast 1 number, 1 lowercase, 1 uppercase, 1 special character and must of 8 digits. "),s.qZA())}function _(e,r){if(1&e&&(s.TgZ(0,"div",24),s.YNc(1,h,2,0,"div",21),s.YNc(2,P,2,0,"div",21),s.qZA()),2&e){const o=s.oxw();s.xp6(1),s.Q6J("ngIf",null==o.form.confirmPassword.errors?null:o.form.confirmPassword.errors.required),s.xp6(1),s.Q6J("ngIf",null==o.form.confirmPassword.errors?null:o.form.confirmPassword.errors.pattern)}}function T(e,r){1&e&&(s.TgZ(0,"div",25)(1,"span",26),s._uU(2,"Loading..."),s.qZA()())}function Z(e,r){1&e&&(s.ynx(0),s._uU(1,"RESET PASSWORD"),s.BQk())}const u=function(e){return{"is-invalid":e}},b=function(){return["/login"]};class m{constructor(r,o,f,x){this.fb=r,this._commonService=o,this.router=f,this.route=x,this.submitted=!1,this.submitFlag=!1,this.loading=!1,this.accessToken="",this.validEmail="",this.resetPasswordForm=this.fb.group({newPassword:["",[t.kI.required,t.kI.pattern(this._commonService.formValidation.password)]],confirmPassword:["",[t.kI.required,t.kI.pattern(this._commonService.formValidation.password)]]})}get form(){return this.resetPasswordForm.controls}ngOnInit(){this.accessToken=this._commonService.getOTPAccessTocken(),this.validEmail=this._commonService.getVerifiedEmailId()}onSubmit(){this.submitted=!0,this.resetPasswordForm.valid&&(this.resetPasswordForm.value.newPassword!=this.resetPasswordForm.value.confirmPassword?this._commonService.errorToaster("Confirm password should be same as new password"):(this.submitFlag=!1,this.loading=!0,this._commonService.resetPassword({newPassword:this.resetPasswordForm.value.newPassword,confirmPassword:this.resetPasswordForm.value.confirmPassword,email:this.validEmail,accessToken:this.accessToken}).subscribe(o=>{this._commonService.successToaster("Your password has been changed successfully. Please login with your new password"),this.router.navigate([""]),this.loading=!1},o=>{this.submitFlag=!1,this.loading=!1})))}}m.\u0275fac=function(r){return new(r||m)(s.Y36(t.qu),s.Y36(w.v),s.Y36(i.F0),s.Y36(i.gz))},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-reset-password"]],decls:32,vars:13,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-6","d-flex","align-items-center","justify-content-center","logo-bg"],[1,"logo","text-center"],["href",""],["src","../../../assets/img/logo.png","alt",""],[1,"col-md-6"],[1,"login_right_side"],[1,"login_form"],[1,"text-white","text-center","pb-2"],[1,"text-center","text-white","mb-5"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","newPassword"],["type","password","autocomplete","new-password","id","newPassword","formControlName","newPassword","maxlength","32",1,"form-control","form-control1",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","confirmPassword"],["type","password","autocomplete","new-password","id","confirmPassword","formControlName","confirmPassword","maxlength","32",1,"form-control","form-control1",3,"ngClass"],[1,"form-group","custom-input"],["type","submit",1,"btn-style-one","btn","btn_default","text-center","onhover"],["class","spinner-border text-light align-top","role","status",4,"ngIf"],[4,"ngIf"],[1,"mt-5","text-center"],["routerLinkActive","active",1,"secondry-color",3,"routerLink"],[1,"invalid-feedback"],["role","status",1,"spinner-border","text-light","align-top"],[1,"sr-only"]],template:function(r,o){1&r&&(s.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"a",4),s._UZ(6,"img",5),s.qZA()()(),s.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"h2",9),s._uU(11,"Set new password"),s.qZA(),s.TgZ(12,"p",10),s._uU(13,"Must be at least 8 characters."),s.qZA(),s.TgZ(14,"form",11),s.NdJ("ngSubmit",function(){return o.onSubmit()}),s.TgZ(15,"div",12)(16,"label",13),s._uU(17,"Enter new password :"),s.qZA(),s._UZ(18,"input",14),s.YNc(19,v,3,2,"div",15),s.qZA(),s.TgZ(20,"div",12)(21,"label",16),s._uU(22,"Confirm new password :"),s.qZA(),s._UZ(23,"input",17),s.YNc(24,_,3,2,"div",15),s.qZA(),s.TgZ(25,"div",18)(26,"button",19),s.YNc(27,T,3,0,"div",20),s.YNc(28,Z,2,0,"ng-container",21),s.qZA()(),s.TgZ(29,"div",22)(30,"a",23),s._uU(31,"Login"),s.qZA()()()()()()()()()),2&r&&(s.xp6(14),s.Q6J("formGroup",o.resetPasswordForm),s.xp6(4),s.Q6J("ngClass",s.VKq(8,u,(o.submitted||o.form.newPassword.touched)&&o.form.newPassword.errors)),s.xp6(1),s.Q6J("ngIf",(o.submitted||o.form.newPassword.touched)&&o.form.newPassword.errors),s.xp6(4),s.Q6J("ngClass",s.VKq(10,u,(o.submitted||o.form.confirmPassword.touched)&&o.form.confirmPassword.errors)),s.xp6(1),s.Q6J("ngIf",(o.submitted||o.form.confirmPassword.touched)&&o.form.confirmPassword.errors),s.xp6(3),s.Q6J("ngIf",o.loading),s.xp6(1),s.Q6J("ngIf",!o.loading),s.xp6(2),s.Q6J("routerLink",s.DdM(12,b)))},dependencies:[c.mk,c.O5,t._Y,t.Fj,t.JJ,t.JL,t.nD,t.sg,t.u,i.rH,i.Od]});const C=[{path:"",component:m,data:{title:"Reset Password - Nector Farm"}}];class a{}a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=s.oAB({type:a}),a.\u0275inj=s.cJS({imports:[i.Bz.forChild(C),i.Bz]});var R=n(4772);class d{}d.\u0275fac=function(r){return new(r||d)},d.\u0275mod=s.oAB({type:d}),d.\u0275inj=s.cJS({imports:[c.ez,R.m,a]})}}]);